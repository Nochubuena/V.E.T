{"ast":null,"code":"'use strict';\n\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _get from \"@babel/runtime/helpers/get\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _superPropGet(t, o, e, r) { var p = _get(_getPrototypeOf(1 & r ? t.prototype : t), o, e); return 2 & r && \"function\" == typeof p ? function (t) { return p.apply(e, t); } : p; }\nimport \"../layoutReanimation/animationsManager\";\nimport { maybeBuild } from \"../animationBuilder\";\nimport { IS_JEST, IS_WEB, logger } from \"../common\";\nimport { LayoutAnimationType } from \"../commonTypes\";\nimport { SkipEnteringContext } from \"../component/LayoutAnimationConfig\";\nimport ReanimatedAnimatedComponent from \"../css/component/AnimatedComponent\";\nimport { configureWebLayoutAnimations, getReducedMotionFromConfig, saveSnapshot, startWebLayoutAnimation, tryActivateLayoutTransition } from \"../layoutReanimation/web\";\nimport { addHTMLMutationObserver } from \"../layoutReanimation/web/domUtils\";\nimport { updateLayoutAnimations } from \"../UpdateLayoutAnimations\";\nimport { InlinePropManager } from \"./InlinePropManager\";\nimport jsPropsUpdater from \"./JSPropsUpdater\";\nimport { NativeEventsManager } from \"./NativeEventsManager\";\nimport { PropsFilter } from \"./PropsFilter\";\nimport { filterStyles, flattenArray } from \"./utils\";\nvar id = 0;\nif (IS_WEB) {\n  configureWebLayoutAnimations();\n}\nvar AnimatedComponent = function (_ReanimatedAnimatedCo) {\n  function AnimatedComponent(ChildComponent, props, displayName, options) {\n    var _this$context;\n    var _this;\n    _classCallCheck(this, AnimatedComponent);\n    _this = _callSuper(this, AnimatedComponent, [ChildComponent, props]);\n    _this._animatedStyles = [];\n    _this._prevAnimatedStyles = [];\n    _this._animatedProps = [];\n    _this._prevAnimatedProps = [];\n    _this._isFirstRender = true;\n    _this.jestAnimatedStyle = {\n      value: {}\n    };\n    _this.jestAnimatedProps = {\n      value: {}\n    };\n    _this._InlinePropManager = new InlinePropManager();\n    _this._PropsFilter = new PropsFilter();\n    _this.reanimatedID = id++;\n    _this._options = options;\n    _this._displayName = displayName;\n    if (IS_JEST) {\n      _this.jestAnimatedStyle = {\n        value: {}\n      };\n      _this.jestAnimatedProps = {\n        value: {}\n      };\n    }\n    var skipEntering = (_this$context = _this.context) == null ? void 0 : _this$context.current;\n    if (!skipEntering) {\n      _this._configureLayoutAnimation(LayoutAnimationType.ENTERING, _this.props.entering);\n    }\n    return _this;\n  }\n  _inherits(AnimatedComponent, _ReanimatedAnimatedCo);\n  return _createClass(AnimatedComponent, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this$_NativeEventsMa, _this$_options, _this$_options$jsProp;\n      _superPropGet(AnimatedComponent, \"componentDidMount\", this, 3)([]);\n      if (!IS_WEB) {\n        this._NativeEventsManager = new NativeEventsManager(this, this._options);\n      }\n      (_this$_NativeEventsMa = this._NativeEventsManager) == null ? void 0 : _this$_NativeEventsMa.attachEvents();\n      this._updateAnimatedStylesAndProps();\n      this._InlinePropManager.attachInlineProps(this, this._getViewInfo());\n      if ((_this$_options = this._options) != null && (_this$_options$jsProp = _this$_options.jsProps) != null && _this$_options$jsProp.length) {\n        jsPropsUpdater.registerComponent(this, this._options.jsProps);\n      }\n      this._configureLayoutAnimation(LayoutAnimationType.LAYOUT, this.props.layout);\n      this._configureLayoutAnimation(LayoutAnimationType.EXITING, this.props.exiting);\n      if (IS_WEB) {\n        var _this$context2;\n        if (this.props.exiting && this._componentDOMRef) {\n          saveSnapshot(this._componentDOMRef);\n        }\n        if (!this.props.entering || getReducedMotionFromConfig(this.props.entering)) {\n          this._isFirstRender = false;\n          return;\n        }\n        var skipEntering = (_this$context2 = this.context) == null ? void 0 : _this$context2.current;\n        if (!skipEntering) {\n          startWebLayoutAnimation(this.props, this._componentDOMRef, LayoutAnimationType.ENTERING);\n        } else if (this._componentDOMRef) {\n          this._componentDOMRef.style.visibility = 'initial';\n        }\n      }\n      this._isFirstRender = false;\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      var _this$_NativeEventsMa2, _this$_options2, _this$_options2$jsPro;\n      _superPropGet(AnimatedComponent, \"componentWillUnmount\", this, 3)([]);\n      (_this$_NativeEventsMa2 = this._NativeEventsManager) == null ? void 0 : _this$_NativeEventsMa2.detachEvents();\n      this._detachStyles();\n      this._InlinePropManager.detachInlineProps();\n      if ((_this$_options2 = this._options) != null && (_this$_options2$jsPro = _this$_options2.jsProps) != null && _this$_options2$jsPro.length) {\n        jsPropsUpdater.unregisterComponent(this);\n      }\n      var exiting = this.props.exiting;\n      if (IS_WEB && this._componentDOMRef && exiting && !getReducedMotionFromConfig(exiting)) {\n        addHTMLMutationObserver();\n        startWebLayoutAnimation(this.props, this._componentDOMRef, LayoutAnimationType.EXITING);\n      }\n    }\n  }, {\n    key: \"_detachStyles\",\n    value: function _detachStyles() {\n      var viewTag = this.getComponentViewTag();\n      if (viewTag !== -1) {\n        var _this$props$animatedP;\n        for (var style of this._animatedStyles) {\n          style.viewDescriptors.remove(viewTag);\n        }\n        if ((_this$props$animatedP = this.props.animatedProps) != null && _this$props$animatedP.viewDescriptors) {\n          this.props.animatedProps.viewDescriptors.remove(viewTag);\n        }\n      }\n    }\n  }, {\n    key: \"setNativeProps\",\n    value: function setNativeProps(props) {\n      var _this$_options3;\n      if ((_this$_options3 = this._options) != null && _this$_options3.setNativeProps) {\n        this._options.setNativeProps(this._componentRef, props);\n      } else {\n        var _this$_componentRef;\n        (_this$_componentRef = this._componentRef) == null ? void 0 : _this$_componentRef.setNativeProps == null ? void 0 : _this$_componentRef.setNativeProps(props);\n      }\n    }\n  }, {\n    key: \"_handleAnimatedStylesUpdate\",\n    value: function _handleAnimatedStylesUpdate(prevStyles, currentStyles, jestAnimatedStyleOrProps) {\n      var _this$_getViewInfo = this._getViewInfo(),\n        viewTag = _this$_getViewInfo.viewTag,\n        shadowNodeWrapper = _this$_getViewInfo.shadowNodeWrapper;\n      var newStyles = new Set(currentStyles);\n      var isStyleAttached = function isStyleAttached(style) {\n        return style.viewDescriptors.has(viewTag);\n      };\n      if (prevStyles) {\n        var hasOneSameStyle = currentStyles.length === 1 && prevStyles.length === 1 && currentStyles[0] === prevStyles[0];\n        if (hasOneSameStyle && isStyleAttached(prevStyles[0])) {\n          return;\n        }\n        var _loop = function _loop(prevStyle) {\n          var isPresent = currentStyles.some(function (style) {\n            if (style === prevStyle && isStyleAttached(style)) {\n              newStyles.delete(style);\n              return true;\n            }\n            return false;\n          });\n          if (!isPresent) {\n            prevStyle.viewDescriptors.remove(viewTag);\n          }\n        };\n        for (var prevStyle of prevStyles) {\n          _loop(prevStyle);\n        }\n      }\n      newStyles.forEach(function (style) {\n        style.viewDescriptors.add({\n          tag: viewTag,\n          shadowNodeWrapper: shadowNodeWrapper\n        }, style.styleUpdaterContainer);\n        if (IS_JEST) {\n          Object.assign(jestAnimatedStyleOrProps.value, style.initial.value);\n          style.jestAnimatedValues.current = jestAnimatedStyleOrProps;\n        }\n      });\n    }\n  }, {\n    key: \"_updateAnimatedStylesAndProps\",\n    value: function _updateAnimatedStylesAndProps() {\n      this._handleAnimatedStylesUpdate(this._prevAnimatedStyles, this._animatedStyles, this.jestAnimatedStyle);\n      this._handleAnimatedStylesUpdate(this._prevAnimatedProps, this._animatedProps, this.jestAnimatedProps);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, _prevState, snapshot) {\n      var _this$_NativeEventsMa3;\n      this._configureLayoutAnimation(LayoutAnimationType.LAYOUT, this.props.layout, prevProps.layout);\n      this._configureLayoutAnimation(LayoutAnimationType.EXITING, this.props.exiting, prevProps.exiting);\n      (_this$_NativeEventsMa3 = this._NativeEventsManager) == null ? void 0 : _this$_NativeEventsMa3.updateEvents(prevProps);\n      this._updateAnimatedStylesAndProps();\n      this._InlinePropManager.attachInlineProps(this, this._getViewInfo());\n      if (IS_WEB && this.props.exiting && this._componentDOMRef) {\n        saveSnapshot(this._componentDOMRef);\n      }\n      if (IS_WEB && snapshot && this.props.layout && !getReducedMotionFromConfig(this.props.layout)) {\n        tryActivateLayoutTransition(this.props, this._componentDOMRef, snapshot);\n      }\n    }\n  }, {\n    key: \"_updateStyles\",\n    value: function _updateStyles(props) {\n      var _props$style, _props$animatedProps;\n      var filteredStyles = filterStyles(flattenArray((_props$style = props.style) != null ? _props$style : []));\n      this._prevAnimatedStyles = this._animatedStyles;\n      this._animatedStyles = filteredStyles.animatedStyles;\n      var filteredAnimatedProps = filterStyles(flattenArray((_props$animatedProps = props.animatedProps) != null ? _props$animatedProps : []));\n      this._prevAnimatedProps = this._animatedProps;\n      this._animatedProps = filteredAnimatedProps.animatedStyles;\n      if (filteredAnimatedProps.cssStyle) {\n        if (__DEV__ && filteredStyles.cssStyle) {\n          logger.warn('AnimatedComponent: CSS properties cannot be used in style and animatedProps at the same time. Using properties from the style object.');\n          this._cssStyle = filteredStyles.cssStyle;\n          return;\n        }\n        var mergedProps = _objectSpread(_objectSpread({}, props), filteredAnimatedProps.cssStyle);\n        delete mergedProps.style;\n        delete mergedProps.animatedProps;\n        this._cssStyle = mergedProps;\n      } else {\n        var _filteredStyles$cssSt;\n        this._cssStyle = (_filteredStyles$cssSt = filteredStyles.cssStyle) != null ? _filteredStyles$cssSt : {};\n      }\n    }\n  }, {\n    key: \"_configureLayoutAnimation\",\n    value: function _configureLayoutAnimation(type, currentConfig, previousConfig) {\n      var _this$props;\n      if (IS_WEB || currentConfig === previousConfig) {\n        return;\n      }\n      updateLayoutAnimations(type === LayoutAnimationType.ENTERING ? this.reanimatedID : this.getComponentViewTag(), type, currentConfig && maybeBuild(currentConfig, type === LayoutAnimationType.LAYOUT ? undefined : (_this$props = this.props) == null ? void 0 : _this$props.style, this._displayName));\n    }\n  }, {\n    key: \"getSnapshotBeforeUpdate\",\n    value: function getSnapshotBeforeUpdate() {\n      var _this$_componentDOMRe;\n      if (IS_WEB && this.props.layout && (_this$_componentDOMRe = this._componentDOMRef) != null && _this$_componentDOMRe.getBoundingClientRect) {\n        return this._componentDOMRef.getBoundingClientRect();\n      }\n      return null;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$context3;\n      var filteredProps = this._PropsFilter.filterNonAnimatedProps(this);\n      if (IS_JEST) {\n        filteredProps.jestAnimatedStyle = this.jestAnimatedStyle;\n        filteredProps.jestAnimatedProps = this.jestAnimatedProps;\n      }\n      if (this._isFirstRender && IS_WEB && filteredProps.entering && !getReducedMotionFromConfig(filteredProps.entering)) {\n        var _filteredProps$style;\n        filteredProps.style = Array.isArray(filteredProps.style) ? filteredProps.style.concat([{\n          visibility: 'hidden'\n        }]) : _objectSpread(_objectSpread({}, (_filteredProps$style = filteredProps.style) != null ? _filteredProps$style : {}), {}, {\n          visibility: 'hidden'\n        });\n      }\n      var skipEntering = (_this$context3 = this.context) == null ? void 0 : _this$context3.current;\n      var nativeID = skipEntering ? undefined : `${this.reanimatedID}`;\n      var jestProps = IS_JEST ? {\n        jestInlineStyle: this.props.style && filterOutAnimatedStyles(this.props.style),\n        jestAnimatedStyle: this.jestAnimatedStyle,\n        jestAnimatedProps: this.jestAnimatedProps\n      } : {};\n      return _superPropGet(AnimatedComponent, \"render\", this, 3)([_objectSpread(_objectSpread({\n        nativeID: nativeID\n      }, filteredProps), jestProps)]);\n    }\n  }]);\n}(ReanimatedAnimatedComponent);\nAnimatedComponent.contextType = SkipEnteringContext;\nexport { AnimatedComponent as default };\nfunction filterOutAnimatedStyles(style) {\n  if (!style) {\n    return style;\n  }\n  if (!Array.isArray(style)) {\n    return style != null && style.viewDescriptors ? {} : style;\n  }\n  return style.filter(function (styleElement) {\n    return !(styleElement && 'viewDescriptors' in styleElement);\n  }).map(function (styleElement) {\n    if (Array.isArray(styleElement)) {\n      return filterOutAnimatedStyles(styleElement);\n    }\n    return styleElement;\n  });\n}","map":{"version":3,"names":["_defineProperty","_classCallCheck","_createClass","_possibleConstructorReturn","_getPrototypeOf","_get","_inherits","ownKeys","e","r","t","Object","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","forEach","getOwnPropertyDescriptors","defineProperties","defineProperty","_callSuper","_isNativeReflectConstruct","Reflect","construct","constructor","Boolean","prototype","valueOf","call","_superPropGet","p","maybeBuild","IS_JEST","IS_WEB","logger","LayoutAnimationType","SkipEnteringContext","ReanimatedAnimatedComponent","configureWebLayoutAnimations","getReducedMotionFromConfig","saveSnapshot","startWebLayoutAnimation","tryActivateLayoutTransition","addHTMLMutationObserver","updateLayoutAnimations","InlinePropManager","jsPropsUpdater","NativeEventsManager","PropsFilter","filterStyles","flattenArray","id","AnimatedComponent","_ReanimatedAnimatedCo","ChildComponent","props","displayName","options","_this$context","_this","_animatedStyles","_prevAnimatedStyles","_animatedProps","_prevAnimatedProps","_isFirstRender","jestAnimatedStyle","value","jestAnimatedProps","_InlinePropManager","_PropsFilter","reanimatedID","_options","_displayName","skipEntering","context","current","_configureLayoutAnimation","ENTERING","entering","key","componentDidMount","_this$_NativeEventsMa","_this$_options","_this$_options$jsProp","_NativeEventsManager","attachEvents","_updateAnimatedStylesAndProps","attachInlineProps","_getViewInfo","jsProps","registerComponent","LAYOUT","layout","EXITING","exiting","_this$context2","_componentDOMRef","style","visibility","componentWillUnmount","_this$_NativeEventsMa2","_this$_options2","_this$_options2$jsPro","detachEvents","_detachStyles","detachInlineProps","unregisterComponent","viewTag","getComponentViewTag","_this$props$animatedP","viewDescriptors","remove","animatedProps","setNativeProps","_this$_options3","_componentRef","_this$_componentRef","_handleAnimatedStylesUpdate","prevStyles","currentStyles","jestAnimatedStyleOrProps","_this$_getViewInfo","shadowNodeWrapper","newStyles","Set","isStyleAttached","has","hasOneSameStyle","_loop","prevStyle","isPresent","some","delete","add","tag","styleUpdaterContainer","assign","initial","jestAnimatedValues","componentDidUpdate","prevProps","_prevState","snapshot","_this$_NativeEventsMa3","updateEvents","_updateStyles","_props$style","_props$animatedProps","filteredStyles","animatedStyles","filteredAnimatedProps","cssStyle","__DEV__","warn","_cssStyle","mergedProps","_filteredStyles$cssSt","type","currentConfig","previousConfig","_this$props","undefined","getSnapshotBeforeUpdate","_this$_componentDOMRe","getBoundingClientRect","render","_this$context3","filteredProps","filterNonAnimatedProps","_filteredProps$style","Array","isArray","concat","nativeID","jestProps","jestInlineStyle","filterOutAnimatedStyles","contextType","default","styleElement","map"],"sources":["C:\\Users\\asus\\Desktop\\V.E.T\\node_modules\\react-native-reanimated\\src\\createAnimatedComponent\\AnimatedComponent.tsx"],"sourcesContent":["'use strict';\nimport '../layoutReanimation/animationsManager';\n\nimport type React from 'react';\n\nimport { maybeBuild } from '../animationBuilder';\nimport { IS_JEST, IS_WEB, logger } from '../common';\nimport type { StyleProps } from '../commonTypes';\nimport { LayoutAnimationType } from '../commonTypes';\nimport { SkipEnteringContext } from '../component/LayoutAnimationConfig';\nimport ReanimatedAnimatedComponent from '../css/component/AnimatedComponent';\nimport type { AnimatedStyleHandle } from '../hook/commonTypes';\nimport {\n  configureWebLayoutAnimations,\n  getReducedMotionFromConfig,\n  saveSnapshot,\n  startWebLayoutAnimation,\n  tryActivateLayoutTransition,\n} from '../layoutReanimation/web';\nimport type { CustomConfig } from '../layoutReanimation/web/config';\nimport { addHTMLMutationObserver } from '../layoutReanimation/web/domUtils';\nimport type { ReanimatedHTMLElement } from '../ReanimatedModule/js-reanimated';\nimport { updateLayoutAnimations } from '../UpdateLayoutAnimations';\nimport type {\n  AnimatedComponentProps,\n  AnimatedComponentRef,\n  AnimatedProps,\n  AnyComponent,\n  IAnimatedComponentInternal,\n  INativeEventsManager,\n  InitialComponentProps,\n  LayoutAnimationOrBuilder,\n  NestedArray,\n} from './commonTypes';\nimport { InlinePropManager } from './InlinePropManager';\nimport jsPropsUpdater from './JSPropsUpdater';\nimport { NativeEventsManager } from './NativeEventsManager';\nimport { PropsFilter } from './PropsFilter';\nimport { filterStyles, flattenArray } from './utils';\n\nlet id = 0;\n\nif (IS_WEB) {\n  configureWebLayoutAnimations();\n}\n\nexport type Options<P> = {\n  setNativeProps?: (ref: AnimatedComponentRef, props: P) => void;\n  jsProps?: string[];\n};\n\nexport default class AnimatedComponent\n  extends ReanimatedAnimatedComponent<\n    AnimatedComponentProps<InitialComponentProps>\n  >\n  implements IAnimatedComponentInternal\n{\n  _options?: Options<InitialComponentProps>;\n  _displayName: string;\n  _animatedStyles: StyleProps[] = [];\n  _prevAnimatedStyles: StyleProps[] = [];\n  _animatedProps: Partial<AnimatedComponentProps<AnimatedProps>>[] = [];\n  _prevAnimatedProps: Partial<AnimatedComponentProps<AnimatedProps>>[] = [];\n  _isFirstRender = true;\n  jestInlineStyle: NestedArray<StyleProps> | undefined;\n  jestAnimatedStyle: { value: StyleProps } = { value: {} };\n  jestAnimatedProps: { value: AnimatedProps } = { value: {} };\n  _InlinePropManager = new InlinePropManager();\n  _PropsFilter = new PropsFilter();\n  _NativeEventsManager?: INativeEventsManager;\n  static contextType = SkipEnteringContext;\n  context!: React.ContextType<typeof SkipEnteringContext>;\n  reanimatedID = id++;\n\n  constructor(\n    ChildComponent: AnyComponent,\n    props: AnimatedComponentProps<InitialComponentProps>,\n    displayName: string,\n    options?: Options<InitialComponentProps>\n  ) {\n    super(ChildComponent, props);\n    this._options = options;\n    this._displayName = displayName;\n\n    if (IS_JEST) {\n      this.jestAnimatedStyle = { value: {} };\n      this.jestAnimatedProps = { value: {} };\n    }\n\n    const skipEntering = this.context?.current;\n    if (!skipEntering) {\n      this._configureLayoutAnimation(\n        LayoutAnimationType.ENTERING,\n        this.props.entering\n      );\n    }\n  }\n\n  componentDidMount() {\n    super.componentDidMount();\n    if (!IS_WEB) {\n      // It exists only on native platforms. We initialize it here because the ref to the animated component is available only post-mount\n      this._NativeEventsManager = new NativeEventsManager(this, this._options);\n    }\n    this._NativeEventsManager?.attachEvents();\n    this._updateAnimatedStylesAndProps();\n    this._InlinePropManager.attachInlineProps(this, this._getViewInfo());\n\n    if (this._options?.jsProps?.length) {\n      jsPropsUpdater.registerComponent(this, this._options.jsProps);\n    }\n\n    this._configureLayoutAnimation(\n      LayoutAnimationType.LAYOUT,\n      this.props.layout\n    );\n    this._configureLayoutAnimation(\n      LayoutAnimationType.EXITING,\n      this.props.exiting\n    );\n\n    if (IS_WEB) {\n      if (this.props.exiting && this._componentDOMRef) {\n        saveSnapshot(this._componentDOMRef);\n      }\n\n      if (\n        !this.props.entering ||\n        getReducedMotionFromConfig(this.props.entering as CustomConfig)\n      ) {\n        this._isFirstRender = false;\n        return;\n      }\n\n      const skipEntering = this.context?.current;\n\n      if (!skipEntering) {\n        startWebLayoutAnimation(\n          this.props,\n          this._componentDOMRef as ReanimatedHTMLElement,\n          LayoutAnimationType.ENTERING\n        );\n      } else if (this._componentDOMRef) {\n        this._componentDOMRef.style.visibility = 'initial';\n      }\n    }\n\n    this._isFirstRender = false;\n  }\n\n  componentWillUnmount() {\n    super.componentWillUnmount();\n    this._NativeEventsManager?.detachEvents();\n    this._detachStyles();\n    this._InlinePropManager.detachInlineProps();\n\n    if (this._options?.jsProps?.length) {\n      jsPropsUpdater.unregisterComponent(this);\n    }\n\n    const exiting = this.props.exiting;\n\n    if (\n      IS_WEB &&\n      this._componentDOMRef &&\n      exiting &&\n      !getReducedMotionFromConfig(exiting as CustomConfig)\n    ) {\n      addHTMLMutationObserver();\n\n      startWebLayoutAnimation(\n        this.props,\n        this._componentDOMRef as ReanimatedHTMLElement,\n        LayoutAnimationType.EXITING\n      );\n    }\n  }\n\n  _detachStyles() {\n    const viewTag = this.getComponentViewTag();\n    if (viewTag !== -1) {\n      for (const style of this._animatedStyles) {\n        style.viewDescriptors.remove(viewTag);\n      }\n      if (this.props.animatedProps?.viewDescriptors) {\n        this.props.animatedProps.viewDescriptors.remove(viewTag);\n      }\n    }\n  }\n\n  setNativeProps(props: StyleProps) {\n    if (this._options?.setNativeProps) {\n      this._options.setNativeProps(\n        this._componentRef as AnimatedComponentRef,\n        props\n      );\n    } else {\n      (this._componentRef as AnimatedComponentRef)?.setNativeProps?.(props);\n    }\n  }\n\n  _handleAnimatedStylesUpdate(\n    prevStyles: StyleProps[],\n    currentStyles: StyleProps[],\n    jestAnimatedStyleOrProps: { value: StyleProps }\n  ) {\n    const { viewTag, shadowNodeWrapper } = this._getViewInfo();\n    const newStyles = new Set<StyleProps>(currentStyles);\n\n    const isStyleAttached = (style: StyleProps) =>\n      style.viewDescriptors.has(viewTag);\n\n    // remove old styles\n    if (prevStyles) {\n      // in most of the cases, views have only a single animated style and it remains unchanged\n      const hasOneSameStyle =\n        currentStyles.length === 1 &&\n        prevStyles.length === 1 &&\n        currentStyles[0] === prevStyles[0];\n\n      if (hasOneSameStyle && isStyleAttached(prevStyles[0])) {\n        return;\n      }\n\n      // otherwise, remove each style that is not present in new styles\n      for (const prevStyle of prevStyles) {\n        const isPresent = currentStyles.some((style) => {\n          if (style === prevStyle && isStyleAttached(style)) {\n            newStyles.delete(style);\n            return true;\n          }\n          return false;\n        });\n        if (!isPresent) {\n          prevStyle.viewDescriptors.remove(viewTag);\n        }\n      }\n    }\n\n    newStyles.forEach((style) => {\n      style.viewDescriptors.add(\n        {\n          tag: viewTag,\n          shadowNodeWrapper,\n        },\n        style.styleUpdaterContainer\n      );\n      if (IS_JEST) {\n        /**\n         * We need to connect Jest's TestObject instance whose contains just\n         * props object with the updateProps() function where we update the\n         * properties of the component. We can't update props object directly\n         * because TestObject contains a copy of props - look at render\n         * function: const props = this._filterNonAnimatedProps(this.props);\n         */\n        Object.assign(jestAnimatedStyleOrProps.value, style.initial.value);\n        style.jestAnimatedValues.current = jestAnimatedStyleOrProps;\n      }\n    });\n  }\n\n  _updateAnimatedStylesAndProps() {\n    this._handleAnimatedStylesUpdate(\n      this._prevAnimatedStyles,\n      this._animatedStyles,\n      this.jestAnimatedStyle\n    );\n    this._handleAnimatedStylesUpdate(\n      this._prevAnimatedProps,\n      this._animatedProps,\n      this.jestAnimatedProps\n    );\n  }\n\n  componentDidUpdate(\n    prevProps: AnimatedComponentProps<InitialComponentProps>,\n    _prevState: Readonly<unknown>,\n    snapshot: DOMRect | null\n  ) {\n    this._configureLayoutAnimation(\n      LayoutAnimationType.LAYOUT,\n      this.props.layout,\n      prevProps.layout\n    );\n    this._configureLayoutAnimation(\n      LayoutAnimationType.EXITING,\n      this.props.exiting,\n      prevProps.exiting\n    );\n\n    this._NativeEventsManager?.updateEvents(prevProps);\n    this._updateAnimatedStylesAndProps();\n    this._InlinePropManager.attachInlineProps(this, this._getViewInfo());\n\n    if (IS_WEB && this.props.exiting && this._componentDOMRef) {\n      saveSnapshot(this._componentDOMRef);\n    }\n\n    if (\n      IS_WEB &&\n      snapshot &&\n      this.props.layout &&\n      !getReducedMotionFromConfig(this.props.layout as CustomConfig)\n    ) {\n      tryActivateLayoutTransition(\n        this.props,\n        this._componentDOMRef as ReanimatedHTMLElement,\n        snapshot\n      );\n    }\n  }\n\n  _updateStyles(props: AnimatedComponentProps<InitialComponentProps>): void {\n    const filteredStyles = filterStyles(flattenArray(props.style ?? []));\n    this._prevAnimatedStyles = this._animatedStyles;\n    this._animatedStyles = filteredStyles.animatedStyles;\n\n    const filteredAnimatedProps = filterStyles(\n      flattenArray(props.animatedProps ?? [])\n    );\n    this._prevAnimatedProps = this._animatedProps;\n    this._animatedProps = filteredAnimatedProps.animatedStyles;\n\n    if (filteredAnimatedProps.cssStyle) {\n      if (__DEV__ && filteredStyles.cssStyle) {\n        logger.warn(\n          'AnimatedComponent: CSS properties cannot be used in style and animatedProps at the same time. Using properties from the style object.'\n        );\n        this._cssStyle = filteredStyles.cssStyle;\n        return;\n      }\n\n      // Add all remaining props to cssStyle object\n      // (e.g. SVG components are styled via top level props, not via style object)\n      const mergedProps = {\n        ...props,\n        ...filteredAnimatedProps.cssStyle,\n      };\n      delete mergedProps.style;\n      delete mergedProps.animatedProps;\n      this._cssStyle = mergedProps;\n    } else {\n      this._cssStyle = filteredStyles.cssStyle ?? {};\n    }\n  }\n  _configureLayoutAnimation(\n    type: LayoutAnimationType,\n    currentConfig: LayoutAnimationOrBuilder | undefined,\n    previousConfig?: LayoutAnimationOrBuilder\n  ) {\n    if (IS_WEB || currentConfig === previousConfig) {\n      return;\n    }\n\n    updateLayoutAnimations(\n      type === LayoutAnimationType.ENTERING\n        ? this.reanimatedID\n        : this.getComponentViewTag(),\n      type,\n      currentConfig &&\n        maybeBuild(\n          currentConfig,\n          type === LayoutAnimationType.LAYOUT\n            ? undefined /* We don't have to warn user if style has common properties with animation for LAYOUT */\n            : this.props?.style,\n          this._displayName\n        )\n    );\n  }\n\n  // This is a component lifecycle method from React, therefore we are not calling it directly.\n  // It is called before the component gets rerendered. This way we can access components' position before it changed\n  // and later on, in componentDidUpdate, calculate translation for layout transition.\n  getSnapshotBeforeUpdate() {\n    if (\n      IS_WEB &&\n      this.props.layout &&\n      this._componentDOMRef?.getBoundingClientRect\n    ) {\n      return this._componentDOMRef.getBoundingClientRect();\n    }\n\n    // `getSnapshotBeforeUpdate` has to return value which is not `undefined`.\n    return null;\n  }\n\n  render() {\n    const filteredProps = this._PropsFilter.filterNonAnimatedProps(this);\n\n    if (IS_JEST) {\n      filteredProps.jestAnimatedStyle = this.jestAnimatedStyle;\n      filteredProps.jestAnimatedProps = this.jestAnimatedProps;\n    }\n\n    // Layout animations on web are set inside `componentDidMount` method, which is called after first render.\n    // Because of that we can encounter a situation in which component is visible for a short amount of time, and later on animation triggers.\n    // I've tested that on various browsers and devices and it did not happen to me. To be sure that it won't happen to someone else,\n    // I've decided to hide component at first render. Its visibility is reset in `componentDidMount`.\n    if (\n      this._isFirstRender &&\n      IS_WEB &&\n      filteredProps.entering &&\n      !getReducedMotionFromConfig(filteredProps.entering as CustomConfig)\n    ) {\n      filteredProps.style = Array.isArray(filteredProps.style)\n        ? filteredProps.style.concat([{ visibility: 'hidden' }])\n        : {\n            ...(filteredProps.style ?? {}),\n            visibility: 'hidden', // Hide component until `componentDidMount` triggers\n          };\n    }\n\n    const skipEntering = this.context?.current;\n    const nativeID = skipEntering ? undefined : `${this.reanimatedID}`;\n\n    const jestProps = IS_JEST\n      ? {\n          jestInlineStyle:\n            this.props.style && filterOutAnimatedStyles(this.props.style),\n          jestAnimatedStyle: this.jestAnimatedStyle,\n          jestAnimatedProps: this.jestAnimatedProps,\n        }\n      : {};\n\n    return super.render({\n      nativeID,\n      ...filteredProps,\n      ...jestProps,\n    });\n  }\n}\n\nfunction filterOutAnimatedStyles(\n  style: NestedArray<StyleProps | AnimatedStyleHandle | null | undefined>\n): NestedArray<StyleProps | null | undefined> {\n  if (!style) {\n    return style;\n  }\n  if (!Array.isArray(style)) {\n    return style?.viewDescriptors ? {} : style;\n  }\n  return style\n    .filter(\n      (styleElement) => !(styleElement && 'viewDescriptors' in styleElement)\n    )\n    .map((styleElement) => {\n      if (Array.isArray(styleElement)) {\n        return filterOutAnimatedStyles(styleElement);\n      }\n      return styleElement;\n    });\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}